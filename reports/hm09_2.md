# 第九次作业_2
> 新雅62/CDIE6
> 2016013327 项雨桐

## 11.3 计算机小实验 1:城市距离的 MDS 可视化  
经典的 MDS(Multidimensional Scaling)方法起源于当我们仅能获取到物体之间的距离的时候，如何由此重构它的坐标。附件`city_dist.xlsx`中是 34 个城市之间的相对距离，请用 MDS 方法得到城市的二维表示并作图，简要分析你的可视化结果与真实地图上各个城市相对位置的差异。

> 获得的图片如下所示：
> <a href="https://sm.ms/image/3nSz2JVpBhyTflx" target="_blank"><img src="https://i.loli.net/2020/04/18/3nSz2JVpBhyTflx.png" ></a>
> 实际的中国地图如下：
> <a href="https://sm.ms/image/dVrJ7xQjb5lRCfu" target="_blank"><img src="https://i.loli.net/2020/04/18/dVrJ7xQjb5lRCfu.png" ></a>
> 可见MDS大致实现了保持各城市间的距离，并保持了南北的相对方向，但东西向是反向的。

## 11.4 计算机小实验 2:MNIST 数据集的特征提取

在本题中，我们将数据集中的“0”和“8”两类样本集进行降维，并观察降维前后测试正确率的变化。

> 实验中‘8’的标签记为1，用红色标示；‘0’的标签记为0，用蓝色标示。

1.  请分别用 PCA、Isomap、LLE、tSNE 算法将训练集的数据降到二维并可视化，每一类样本用不同颜色的点表示，说明你从可视化图中能观察到什么信息。

> PCA降维：
> <a href="https://sm.ms/image/IyovPbcm9aTp6GA" target="_blank"><img src="https://i.loli.net/2020/04/19/IyovPbcm9aTp6GA.png" ></a>
> Isomap降维：
> <a href="https://sm.ms/image/sGbnVjQkNCAJ732" target="_blank"><img src="https://i.loli.net/2020/04/19/sGbnVjQkNCAJ732.png" ></a>
> LLE降维：
> <a href="https://sm.ms/image/kHLN6J2XFgewvYZ" target="_blank"><img src="https://i.loli.net/2020/04/19/kHLN6J2XFgewvYZ.png" ></a>
> tSNE降维：
> ![dim_red_tsne.png](https://i.loli.net/2020/04/19/M4uhE7ilTrf15mg.png)
> 可以观察到的信息有：
> * PCA保持了数据最大方差的两个方向，因此可以看出手写数字0对应的数据方差要比8的类内离散度大
> * 对于PCA方法，只有第一主成分对分类是有用的，第二主成分完全不能区分数据
> * 对于Isomap、LLE和tSNE，可以用某个二维平面上的曲线大致将两类分开（LLE和tSNE可以用线性分类面）
> * 四种降维方法效果：PCA$<$Isomap$<$LLE$\approx$tSNE
> * Isomap、LLE、tSNE方法并不能保持原数据的之间的距离，也就无法保持原来的类内离散度
> * 从运行速度来看，PCA速度最快，其他三种方法运行较慢

2.  请用PCA算法将数据降维到1,10,20,50,100,300维，采用你认为合适的分类器分类，说明正确率随降维后维数的变化关系，并与不做降维之前的测试正确率进行比较。
 
 > 答：分类器选择XGBoost，实验数据如下所示：
```
acc_0: 0.9903
acc_1: 0.955
acc_10: 0.9852
acc_20: 0.9852
acc_50: 0.9826
acc_100: 0.9836
acc_300: 0.9826
```
> 可以看出：
> * 不经降维之后的准确率最高，推测是因为降维损失了一些信息
> * 存在最优的降维数目，本次实验为10，在此基础上增大或者减小降维的维数都会使准确率降低
> * 总体来看，降维之后的运行准确率损失并不大

3.  请讨论对于分类问题，应该先做PCA降维再划分训练集、测试集进行学习；还是应该先划分训练集和测试集，再在训练集上做PCA。

> 答：先做PCA降维再划分训练集、测试集进行学习
> 
> 降维的理念是利用一定手段得到**高维上的数据分布在低维空间中某种定义下的最优表示**。**数据在低维空间的实际分布理应是对总体进行降维的结果**，而实际中总体是无法获取的，因此我们都是用在总体上的iid采样结果来估计数据分布。
>
> 根据大数定理，**样本的数目越多，其分布越接近整体分布**。因此，为了得到更优的对原始数据分布的估计，我们应当尽可能用较多的采样数据来表示其分布。因此，**应当对所有数据进行降维后再划分测试集和训练集**，这时的**参数调优是为了寻找最优的低维空间的结构（维数）**。
> 
> 反之，若先划分训练集和测试集，利用较少的数据做PCA，得到的数据分布的估计误差会增大，自然得到的低维空间分布就不是实际数据分布的良好表示。
<!--stackedit_data:
eyJoaXN0b3J5IjpbMzM5NDYwNDc3XX0=
-->